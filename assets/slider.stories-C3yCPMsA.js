import{j as m}from"./jsx-runtime-Cf8x2fCZ.js";import{r as d}from"./index-B6o7_jwP.js";import{c as de}from"./index-BdQq_4o_.js";import{c as E}from"./index-DW48STyt.js";import{u as N}from"./index-CWunzIAO.js";import{c as Ce}from"./index-Bg13-N3c.js";import{u as Ee}from"./index-fYiWtIch.js";import{u as Ie}from"./index-BiB69Vyw.js";import{u as Me}from"./index-D15UBmr5.js";import{u as je}from"./index-D6Rq8aLn.js";import{P as B}from"./index-DYPDg9pM.js";import{c as Ve}from"./index-5Vl1VMRw.js";import{c as Ae}from"./utils-KnJS0CU8.js";import"./index-yBjzXJbu.js";import"./_commonjsHelpers-Cpj98o6Y.js";import"./index-BKcPSHDN.js";import"./index-BskipZHp.js";import"./index-BxaFKtJl.js";import"./index-fNjTmf9T.js";var ue=["PageUp","PageDown"],me=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],fe={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},I="Slider",[U,Te,Ke]=Ve(I),[pe,St]=Ce(I,[Ke]),[Ne,H]=pe(I),he=d.forwardRef((e,t)=>{const{name:r,min:o=0,max:s=100,step:c=1,orientation:n="horizontal",disabled:a=!1,minStepsBetweenThumbs:l=0,defaultValue:p=[o],value:w,onValueChange:i=()=>{},onValueCommit:u=()=>{},inverted:v=!1,form:y,...S}=e,h=d.useRef(new Set),f=d.useRef(0),b=n==="horizontal"?ke:Be,[g=[],M]=Ee({prop:w,defaultProp:p,onChange:x=>{var D;(D=[...h.current][f.current])==null||D.focus(),i(x)}}),z=d.useRef(g);function O(x){const _=Ue(g,x);j(x,_)}function Re(x){j(x,f.current)}function De(){const x=z.current[f.current];g[f.current]!==x&&u(g)}function j(x,_,{commit:D}={commit:!1}){const X=Xe(c),L=qe(Math.round((x-o)/c)*c+o,X),V=de(L,[o,s]);M((C=[])=>{const P=Oe(C,V,_);if($e(P,l*c)){f.current=P.indexOf(V);const q=String(P)!==String(C);return q&&D&&u(P),q?P:C}else return C})}return m.jsx(Ne,{scope:e.__scopeSlider,name:r,disabled:a,min:o,max:s,valueIndexToChangeRef:f,thumbs:h.current,values:g,orientation:n,form:y,children:m.jsx(U.Provider,{scope:e.__scopeSlider,children:m.jsx(U.Slot,{scope:e.__scopeSlider,children:m.jsx(b,{"aria-disabled":a,"data-disabled":a?"":void 0,...S,ref:t,onPointerDown:E(S.onPointerDown,()=>{a||(z.current=g)}),min:o,max:s,inverted:v,onSlideStart:a?void 0:O,onSlideMove:a?void 0:Re,onSlideEnd:a?void 0:De,onHomeKeyDown:()=>!a&&j(o,0,{commit:!0}),onEndKeyDown:()=>!a&&j(s,g.length-1,{commit:!0}),onStepKeyDown:({event:x,direction:_})=>{if(!a){const L=ue.includes(x.key)||x.shiftKey&&me.includes(x.key)?10:1,V=f.current,C=g[V],P=c*L*_;j(C+P,V,{commit:!0})}}})})})})});he.displayName=I;var[ge,Se]=pe(I,{startEdge:"left",endEdge:"right",size:"width",direction:1}),ke=d.forwardRef((e,t)=>{const{min:r,max:o,dir:s,inverted:c,onSlideStart:n,onSlideMove:a,onSlideEnd:l,onStepKeyDown:p,...w}=e,[i,u]=d.useState(null),v=N(t,b=>u(b)),y=d.useRef(void 0),S=Ie(s),h=S==="ltr",f=h&&!c||!h&&c;function R(b){const g=y.current||i.getBoundingClientRect(),M=[0,g.width],O=$(M,f?[r,o]:[o,r]);return y.current=g,O(b-g.left)}return m.jsx(ge,{scope:e.__scopeSlider,startEdge:f?"left":"right",endEdge:f?"right":"left",direction:f?1:-1,size:"width",children:m.jsx(ve,{dir:S,"data-orientation":"horizontal",...w,ref:v,style:{...w.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:b=>{const g=R(b.clientX);n==null||n(g)},onSlideMove:b=>{const g=R(b.clientX);a==null||a(g)},onSlideEnd:()=>{y.current=void 0,l==null||l()},onStepKeyDown:b=>{const M=fe[f?"from-left":"from-right"].includes(b.key);p==null||p({event:b,direction:M?-1:1})}})})}),Be=d.forwardRef((e,t)=>{const{min:r,max:o,inverted:s,onSlideStart:c,onSlideMove:n,onSlideEnd:a,onStepKeyDown:l,...p}=e,w=d.useRef(null),i=N(t,w),u=d.useRef(void 0),v=!s;function y(S){const h=u.current||w.current.getBoundingClientRect(),f=[0,h.height],b=$(f,v?[o,r]:[r,o]);return u.current=h,b(S-h.top)}return m.jsx(ge,{scope:e.__scopeSlider,startEdge:v?"bottom":"top",endEdge:v?"top":"bottom",size:"height",direction:v?1:-1,children:m.jsx(ve,{"data-orientation":"vertical",...p,ref:i,style:{...p.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:S=>{const h=y(S.clientY);c==null||c(h)},onSlideMove:S=>{const h=y(S.clientY);n==null||n(h)},onSlideEnd:()=>{u.current=void 0,a==null||a()},onStepKeyDown:S=>{const f=fe[v?"from-bottom":"from-top"].includes(S.key);l==null||l({event:S,direction:f?-1:1})}})})}),ve=d.forwardRef((e,t)=>{const{__scopeSlider:r,onSlideStart:o,onSlideMove:s,onSlideEnd:c,onHomeKeyDown:n,onEndKeyDown:a,onStepKeyDown:l,...p}=e,w=H(I,r);return m.jsx(B.span,{...p,ref:t,onKeyDown:E(e.onKeyDown,i=>{i.key==="Home"?(n(i),i.preventDefault()):i.key==="End"?(a(i),i.preventDefault()):ue.concat(me).includes(i.key)&&(l(i),i.preventDefault())}),onPointerDown:E(e.onPointerDown,i=>{const u=i.target;u.setPointerCapture(i.pointerId),i.preventDefault(),w.thumbs.has(u)?u.focus():o(i)}),onPointerMove:E(e.onPointerMove,i=>{i.target.hasPointerCapture(i.pointerId)&&s(i)}),onPointerUp:E(e.onPointerUp,i=>{const u=i.target;u.hasPointerCapture(i.pointerId)&&(u.releasePointerCapture(i.pointerId),c(i))})})}),be="SliderTrack",xe=d.forwardRef((e,t)=>{const{__scopeSlider:r,...o}=e,s=H(be,r);return m.jsx(B.span,{"data-disabled":s.disabled?"":void 0,"data-orientation":s.orientation,...o,ref:t})});xe.displayName=be;var F="SliderRange",we=d.forwardRef((e,t)=>{const{__scopeSlider:r,...o}=e,s=H(F,r),c=Se(F,r),n=d.useRef(null),a=N(t,n),l=s.values.length,p=s.values.map(u=>_e(u,s.min,s.max)),w=l>1?Math.min(...p):0,i=100-Math.max(...p);return m.jsx(B.span,{"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,...o,ref:a,style:{...e.style,[c.startEdge]:w+"%",[c.endEdge]:i+"%"}})});we.displayName=F;var Y="SliderThumb",ye=d.forwardRef((e,t)=>{const r=Te(e.__scopeSlider),[o,s]=d.useState(null),c=N(t,a=>s(a)),n=d.useMemo(()=>o?r().findIndex(a=>a.ref.current===o):-1,[r,o]);return m.jsx(He,{...e,ref:c,index:n})}),He=d.forwardRef((e,t)=>{const{__scopeSlider:r,index:o,name:s,...c}=e,n=H(Y,r),a=Se(Y,r),[l,p]=d.useState(null),w=N(t,R=>p(R)),i=l?n.form||!!l.closest("form"):!0,u=je(l),v=n.values[o],y=v===void 0?0:_e(v,n.min,n.max),S=Le(o,n.values.length),h=u==null?void 0:u[a.size],f=h?Fe(h,y,a.direction):0;return d.useEffect(()=>{if(l)return n.thumbs.add(l),()=>{n.thumbs.delete(l)}},[l,n.thumbs]),m.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[a.startEdge]:`calc(${y}% + ${f}px)`},children:[m.jsx(U.ItemSlot,{scope:e.__scopeSlider,children:m.jsx(B.span,{role:"slider","aria-label":e["aria-label"]||S,"aria-valuemin":n.min,"aria-valuenow":v,"aria-valuemax":n.max,"aria-orientation":n.orientation,"data-orientation":n.orientation,"data-disabled":n.disabled?"":void 0,tabIndex:n.disabled?void 0:0,...c,ref:w,style:v===void 0?{display:"none"}:e.style,onFocus:E(e.onFocus,()=>{n.valueIndexToChangeRef.current=o})})}),i&&m.jsx(ze,{name:s??(n.name?n.name+(n.values.length>1?"[]":""):void 0),form:n.form,value:v},o)]})});ye.displayName=Y;var ze=e=>{const{value:t,...r}=e,o=d.useRef(null),s=Me(t);return d.useEffect(()=>{const c=o.current,n=window.HTMLInputElement.prototype,l=Object.getOwnPropertyDescriptor(n,"value").set;if(s!==t&&l){const p=new Event("input",{bubbles:!0});l.call(c,t),c.dispatchEvent(p)}},[s,t]),m.jsx("input",{style:{display:"none"},...r,ref:o,defaultValue:t})};function Oe(e=[],t,r){const o=[...e];return o[r]=t,o.sort((s,c)=>s-c)}function _e(e,t,r){const c=100/(r-t)*(e-t);return de(c,[0,100])}function Le(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function Ue(e,t){if(e.length===1)return 0;const r=e.map(s=>Math.abs(s-t)),o=Math.min(...r);return r.indexOf(o)}function Fe(e,t,r){const o=e/2,c=$([0,50],[0,o]);return(o-c(t)*r)*r}function Ye(e){return e.slice(0,-1).map((t,r)=>e[r+1]-t)}function $e(e,t){if(t>0){const r=Ye(e);return Math.min(...r)>=t}return!0}function $(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const o=(t[1]-t[0])/(e[1]-e[0]);return t[0]+o*(r-e[0])}}function Xe(e){return(String(e).split(".")[1]||"").length}function qe(e,t){const r=Math.pow(10,t);return Math.round(e*r)/r}var Pe=he,Ge=xe,We=we,Je=ye;const k=d.forwardRef(({className:e,...t},r)=>m.jsxs(Pe,{ref:r,className:Ae("relative flex w-full touch-none select-none items-center",e),...t,children:[m.jsx(Ge,{className:"relative h-1.5 w-full grow overflow-hidden rounded-full bg-primary/20",children:m.jsx(We,{className:"absolute h-full bg-primary"})}),m.jsx(Je,{className:"block h-4 w-4 rounded-full border border-primary/50 bg-background shadow transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50"})]}));k.displayName=Pe.displayName;try{k.displayName="Slider",k.__docgenInfo={description:"",displayName:"Slider",props:{asChild:{defaultValue:null,description:"",name:"asChild",required:!1,type:{name:"boolean"}}}}}catch{}try{slider.displayName="slider",slider.__docgenInfo={description:"",displayName:"slider",props:{asChild:{defaultValue:null,description:"",name:"asChild",required:!1,type:{name:"boolean"}}}}}catch{}const vt={title:"ui/Slider",component:k,tags:["autodocs"],argTypes:{},args:{defaultValue:[33],max:100,step:1},parameters:{docs:{description:{component:"An input where the user selects a value from within a given range."}}}},A={},T={args:{inverted:!0}},K={args:{disabled:!0}};var G,W,J,Q,Z;A.parameters={...A.parameters,docs:{...(G=A.parameters)==null?void 0:G.docs,source:{originalSource:"{}",...(J=(W=A.parameters)==null?void 0:W.docs)==null?void 0:J.source},description:{story:"The default form of the slider.",...(Z=(Q=A.parameters)==null?void 0:Q.docs)==null?void 0:Z.description}}};var ee,te,re,oe,ne;T.parameters={...T.parameters,docs:{...(ee=T.parameters)==null?void 0:ee.docs,source:{originalSource:`{
  args: {
    inverted: true
  }
}`,...(re=(te=T.parameters)==null?void 0:te.docs)==null?void 0:re.source},description:{story:"Use the `inverted` prop to have the slider fill from right to left.",...(ne=(oe=T.parameters)==null?void 0:oe.docs)==null?void 0:ne.description}}};var se,ie,ae,ce,le;K.parameters={...K.parameters,docs:{...(se=K.parameters)==null?void 0:se.docs,source:{originalSource:`{
  args: {
    disabled: true
  }
}`,...(ae=(ie=K.parameters)==null?void 0:ie.docs)==null?void 0:ae.source},description:{story:"Use the `disabled` prop to disable the slider.",...(le=(ce=K.parameters)==null?void 0:ce.docs)==null?void 0:le.description}}};const bt=["Default","Inverted","Disabled"];export{A as Default,K as Disabled,T as Inverted,bt as __namedExportsOrder,vt as default};
