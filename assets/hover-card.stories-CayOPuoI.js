import{j as i}from"./jsx-runtime-Cf8x2fCZ.js";import{r as o}from"./index-B6o7_jwP.js";import{c as l}from"./index-DW48STyt.js";import{c as J}from"./index-Bg13-N3c.js";import{u as Q}from"./index-fYiWtIch.js";import{u as X}from"./index-CWunzIAO.js";import{c as W,R as Y,A as Z,C as ee,a as re}from"./index-CqEA1Bia.js";import{P as oe}from"./index-B6caMgJY.js";import{P as te}from"./index-DYPDg9pM.js";import{D as ne}from"./index-DdpX_G71.js";import{c as ae}from"./utils-KnJS0CU8.js";import"./index-yBjzXJbu.js";import"./_commonjsHelpers-Cpj98o6Y.js";import"./index-BKcPSHDN.js";import"./index-BxaFKtJl.js";import"./index-fNjTmf9T.js";import"./index-BskipZHp.js";import"./index-D6Rq8aLn.js";var H,E="HoverCard",[$,je]=J(E,[W]),w=W(),[se,D]=$(E),z=e=>{const{__scopeHoverCard:t,children:n,open:s,defaultOpen:a,onOpenChange:d,openDelay:f=700,closeDelay:m=300}=e,c=w(t),v=o.useRef(0),p=o.useRef(0),g=o.useRef(!1),u=o.useRef(!1),[y=!1,r]=Q({prop:s,defaultProp:a,onChange:d}),_=o.useCallback(()=>{clearTimeout(p.current),v.current=window.setTimeout(()=>r(!0),f)},[f,r]),x=o.useCallback(()=>{clearTimeout(v.current),!g.current&&!u.current&&(p.current=window.setTimeout(()=>r(!1),m))},[m,r]),K=o.useCallback(()=>r(!1),[r]);return o.useEffect(()=>()=>{clearTimeout(v.current),clearTimeout(p.current)},[]),i.jsx(se,{scope:t,open:y,onOpenChange:r,onOpen:_,onClose:x,onDismiss:K,hasSelectionRef:g,isPointerDownOnContentRef:u,children:i.jsx(Y,{...c,children:n})})};z.displayName=E;var B="HoverCardTrigger",V=o.forwardRef((e,t)=>{const{__scopeHoverCard:n,...s}=e,a=D(B,n),d=w(n);return i.jsx(Z,{asChild:!0,...d,children:i.jsx(te.a,{"data-state":a.open?"open":"closed",...s,ref:t,onPointerEnter:l(e.onPointerEnter,P(a.onOpen)),onPointerLeave:l(e.onPointerLeave,P(a.onClose)),onFocus:l(e.onFocus,a.onOpen),onBlur:l(e.onBlur,a.onClose),onTouchStart:l(e.onTouchStart,f=>f.preventDefault())})})});V.displayName=B;var ie="HoverCardPortal",[Ae,ce]=$(ie,{forceMount:void 0}),b="HoverCardContent",q=o.forwardRef((e,t)=>{const n=ce(b,e.__scopeHoverCard),{forceMount:s=n.forceMount,...a}=e,d=D(b,e.__scopeHoverCard);return i.jsx(oe,{present:s||d.open,children:i.jsx(de,{"data-state":d.open?"open":"closed",...a,onPointerEnter:l(e.onPointerEnter,P(d.onOpen)),onPointerLeave:l(e.onPointerLeave,P(d.onClose)),ref:t})})});q.displayName=b;var de=o.forwardRef((e,t)=>{const{__scopeHoverCard:n,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:d,onInteractOutside:f,...m}=e,c=D(b,n),v=w(n),p=o.useRef(null),g=X(t,p),[u,y]=o.useState(!1);return o.useEffect(()=>{if(u){const r=document.body;return H=r.style.userSelect||r.style.webkitUserSelect,r.style.userSelect="none",r.style.webkitUserSelect="none",()=>{r.style.userSelect=H,r.style.webkitUserSelect=H}}},[u]),o.useEffect(()=>{if(p.current){const r=()=>{y(!1),c.isPointerDownOnContentRef.current=!1,setTimeout(()=>{var x;((x=document.getSelection())==null?void 0:x.toString())!==""&&(c.hasSelectionRef.current=!0)})};return document.addEventListener("pointerup",r),()=>{document.removeEventListener("pointerup",r),c.hasSelectionRef.current=!1,c.isPointerDownOnContentRef.current=!1}}},[c.isPointerDownOnContentRef,c.hasSelectionRef]),o.useEffect(()=>{p.current&&ue(p.current).forEach(_=>_.setAttribute("tabindex","-1"))}),i.jsx(ne,{asChild:!0,disableOutsidePointerEvents:!1,onInteractOutside:f,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:l(d,r=>{r.preventDefault()}),onDismiss:c.onDismiss,children:i.jsx(ee,{...v,...m,onPointerDown:l(m.onPointerDown,r=>{r.currentTarget.contains(r.target)&&y(!0),c.hasSelectionRef.current=!1,c.isPointerDownOnContentRef.current=!0}),ref:g,style:{...m.style,userSelect:u?"text":void 0,WebkitUserSelect:u?"text":void 0,"--radix-hover-card-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-hover-card-content-available-width":"var(--radix-popper-available-width)","--radix-hover-card-content-available-height":"var(--radix-popper-available-height)","--radix-hover-card-trigger-width":"var(--radix-popper-anchor-width)","--radix-hover-card-trigger-height":"var(--radix-popper-anchor-height)"}})})}),le="HoverCardArrow",pe=o.forwardRef((e,t)=>{const{__scopeHoverCard:n,...s}=e,a=w(n);return i.jsx(re,{...a,...s,ref:t})});pe.displayName=le;function P(e){return t=>t.pointerType==="touch"?void 0:e()}function ue(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP});for(;n.nextNode();)t.push(n.currentNode);return t}var fe=z,me=V,G=q;const R=fe,T=me,S=o.forwardRef(({className:e,align:t="center",sideOffset:n=4,...s},a)=>i.jsx(G,{ref:a,align:t,sideOffset:n,className:ae("z-50 w-64 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-hover-card-content-transform-origin]",e),...s}));S.displayName=G.displayName;try{R.displayName="HoverCard",R.__docgenInfo={description:"",displayName:"HoverCard",props:{}}}catch{}try{T.displayName="HoverCardTrigger",T.__docgenInfo={description:"",displayName:"HoverCardTrigger",props:{asChild:{defaultValue:null,description:"",name:"asChild",required:!1,type:{name:"boolean"}}}}}catch{}try{S.displayName="HoverCardContent",S.__docgenInfo={description:"",displayName:"HoverCardContent",props:{asChild:{defaultValue:null,description:"",name:"asChild",required:!1,type:{name:"boolean"}}}}}catch{}const Ie={title:"ui/HoverCard",component:R,tags:["autodocs"],argTypes:{},args:{},render:e=>i.jsxs(R,{...e,children:[i.jsx(T,{children:"Hover"}),i.jsx(S,{children:"The React Framework - created and maintained by @vercel."})]}),parameters:{layout:"centered",docs:{description:{component:"For sighted users to preview content available behind a link."}}}},C={},h={args:{openDelay:0,closeDelay:0}};var N,O,j,A,I;C.parameters={...C.parameters,docs:{...(N=C.parameters)==null?void 0:N.docs,source:{originalSource:"{}",...(j=(O=C.parameters)==null?void 0:O.docs)==null?void 0:j.source},description:{story:"The default form of the hover card.",...(I=(A=C.parameters)==null?void 0:A.docs)==null?void 0:I.description}}};var k,F,L,M,U;h.parameters={...h.parameters,docs:{...(k=h.parameters)==null?void 0:k.docs,source:{originalSource:`{
  args: {
    openDelay: 0,
    closeDelay: 0
  }
}`,...(L=(F=h.parameters)==null?void 0:F.docs)==null?void 0:L.source},description:{story:"Use the `openDelay` and `closeDelay` props to control the delay before the\nhover card opens and closes.",...(U=(M=h.parameters)==null?void 0:M.docs)==null?void 0:U.description}}};const ke=["Default","Instant"];export{C as Default,h as Instant,ke as __namedExportsOrder,Ie as default};
