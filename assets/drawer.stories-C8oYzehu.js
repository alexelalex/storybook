import{j as $}from"./jsx-runtime-Cf8x2fCZ.js";import{R as r,r as Z}from"./index-B6o7_jwP.js";import{T as At,C as Pt,b as Nt,D as Mt,R as kt,P as _t,a as It,O as Ht}from"./index-CH-vLy15.js";import{c as oe}from"./utils-KnJS0CU8.js";import"./index-yBjzXJbu.js";import"./_commonjsHelpers-Cpj98o6Y.js";import"./index-DW48STyt.js";import"./index-CWunzIAO.js";import"./index-Bg13-N3c.js";import"./index-CDrSXEGS.js";import"./index-BskipZHp.js";import"./index-fYiWtIch.js";import"./index-BKcPSHDN.js";import"./index-DdpX_G71.js";import"./index-DYPDg9pM.js";import"./index-BxaFKtJl.js";import"./index-fNjTmf9T.js";import"./index-CM8D19aL.js";import"./index-BghzCfGL.js";import"./index-B6caMgJY.js";function Vt(e){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",n.appendChild(t),t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}const Ze=r.createContext({drawerRef:{current:null},overlayRef:{current:null},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,isOpen:!1,isDragging:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,handleOnly:!1,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},closeDrawer:()=>{},direction:"bottom",shouldAnimate:{current:!0},shouldScaleBackground:!1,setBackgroundColorOnScale:!0,noBodyStyles:!1,container:null,autoFocus:!1}),he=()=>{const e=r.useContext(Ze);if(!e)throw new Error("useDrawerContext must be used within a Drawer.Root");return e};Vt(`[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1);animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--initial-transform,100%),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--initial-transform,100%),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-state=closed]{animation-name:fadeOut}[data-vaul-animate=false]{animation:none!important}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]:not([data-vaul-custom-container=true])::after{content:'';position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not(
[data-state=closed]
){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}[data-vaul-handle]{display:block;position:relative;opacity:.7;background:#e2e2e4;margin-left:auto;margin-right:auto;height:5px;width:32px;border-radius:1rem;touch-action:pan-y}[data-vaul-handle]:active,[data-vaul-handle]:hover{opacity:1}[data-vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}@media (hover:hover) and (pointer:fine){[data-vaul-drawer]{user-select:none}}@media (pointer:fine){[data-vaul-handle-hitarea]:{width:100%;height:100%}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{from{transform:translate3d(0,var(--initial-transform,100%),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToBottom{to{transform:translate3d(0,var(--initial-transform,100%),0)}}@keyframes slideFromTop{from{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToTop{to{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}}@keyframes slideFromLeft{from{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToLeft{to{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}}@keyframes slideFromRight{from{transform:translate3d(var(--initial-transform,100%),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToRight{to{transform:translate3d(var(--initial-transform,100%),0,0)}}`);function Lt(){const e=navigator.userAgent;return typeof window<"u"&&(/Firefox/.test(e)&&/Mobile/.test(e)||/FxiOS/.test(e))}function Bt(){return Me(/^Mac/)}function qt(){return Me(/^iPhone/)}function We(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function jt(){return Me(/^iPad/)||Bt()&&navigator.maxTouchPoints>1}function et(){return qt()||jt()}function Me(e){return typeof window<"u"&&window.navigator!=null?e.test(window.navigator.platform):void 0}const Ut=24,Wt=typeof window<"u"?Z.useLayoutEffect:Z.useEffect;function Fe(...e){return(...n)=>{for(let t of e)typeof t=="function"&&t(...n)}}const Oe=typeof document<"u"&&window.visualViewport;function ze(e){let n=window.getComputedStyle(e);return/(auto|scroll)/.test(n.overflow+n.overflowX+n.overflowY)}function tt(e){for(ze(e)&&(e=e.parentElement);e&&!ze(e);)e=e.parentElement;return e||document.scrollingElement||document.documentElement}const Ft=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let ye=0,Ce;function zt(e={}){let{isDisabled:n}=e;Wt(()=>{if(!n)return ye++,ye===1&&et()&&(Ce=Yt()),()=>{ye--,ye===0&&(Ce==null||Ce())}},[n])}function Yt(){let e,n=0,t=f=>{e=tt(f.target),!(e===document.documentElement&&e===document.body)&&(n=f.changedTouches[0].pageY)},a=f=>{if(!e||e===document.documentElement||e===document.body){f.preventDefault();return}let m=f.changedTouches[0].pageY,B=e.scrollTop,V=e.scrollHeight-e.clientHeight;V!==0&&((B<=0&&m>n||B>=V&&m<n)&&f.preventDefault(),n=m)},i=f=>{let m=f.target;Pe(m)&&m!==document.activeElement&&(f.preventDefault(),m.style.transform="translateY(-2000px)",m.focus(),requestAnimationFrame(()=>{m.style.transform=""}))},o=f=>{let m=f.target;Pe(m)&&(m.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{m.style.transform="",Oe&&(Oe.height<window.innerHeight?requestAnimationFrame(()=>{Ye(m)}):Oe.addEventListener("resize",()=>Ye(m),{once:!0}))}))},v=()=>{window.scrollTo(0,0)},h=window.pageXOffset,T=window.pageYOffset,R=Fe(Xt(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`));window.scrollTo(0,0);let w=Fe(de(document,"touchstart",t,{passive:!1,capture:!0}),de(document,"touchmove",a,{passive:!1,capture:!0}),de(document,"touchend",i,{passive:!1,capture:!0}),de(document,"focus",o,!0),de(window,"scroll",v));return()=>{R(),w(),window.scrollTo(h,T)}}function Xt(e,n,t){let a=e.style[n];return e.style[n]=t,()=>{e.style[n]=a}}function de(e,n,t,a){return e.addEventListener(n,t,a),()=>{e.removeEventListener(n,t,a)}}function Ye(e){let n=document.scrollingElement||document.documentElement;for(;e&&e!==n;){let t=tt(e);if(t!==document.documentElement&&t!==document.body&&t!==e){let a=t.getBoundingClientRect().top,i=e.getBoundingClientRect().top,o=e.getBoundingClientRect().bottom;const v=t.getBoundingClientRect().bottom+Ut;o>v&&(t.scrollTop+=i-a)}e=t.parentElement}}function Pe(e){return e instanceof HTMLInputElement&&!Ft.has(e.type)||e instanceof HTMLTextAreaElement||e instanceof HTMLElement&&e.isContentEditable}function Gt(e,n){typeof e=="function"?e(n):e!=null&&(e.current=n)}function Kt(...e){return n=>e.forEach(t=>Gt(t,n))}function nt(...e){return Z.useCallback(Kt(...e),e)}const rt=new WeakMap;function A(e,n,t=!1){if(!e||!(e instanceof HTMLElement))return;let a={};Object.entries(n).forEach(([i,o])=>{if(i.startsWith("--")){e.style.setProperty(i,o);return}a[i]=e.style[i],e.style[i]=o}),!t&&rt.set(e,a)}function Jt(e,n){if(!e||!(e instanceof HTMLElement))return;let t=rt.get(e);t&&(e.style[n]=t[n])}const C=e=>{switch(e){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return e}};function be(e,n){if(!e)return null;const t=window.getComputedStyle(e),a=t.transform||t.webkitTransform||t.mozTransform;let i=a.match(/^matrix3d\((.+)\)$/);return i?parseFloat(i[1].split(", ")[C(n)?13:12]):(i=a.match(/^matrix\((.+)\)$/),i?parseFloat(i[1].split(", ")[C(n)?5:4]):null)}function Qt(e){return 8*(Math.log(e+1)-2)}function $e(e,n){if(!e)return()=>{};const t=e.style.cssText;return Object.assign(e.style,n),()=>{e.style.cssText=t}}function Zt(...e){return(...n)=>{for(const t of e)typeof t=="function"&&t(...n)}}const E={DURATION:.5,EASE:[.32,.72,0,1]},at=.4,en=.25,tn=100,ot=8,Se=16,Ne=26,Ae="vaul-dragging";function it(e){const n=r.useRef(e);return r.useEffect(()=>{n.current=e}),r.useMemo(()=>(...t)=>n.current==null?void 0:n.current.call(n,...t),[])}function nn({defaultProp:e,onChange:n}){const t=r.useState(e),[a]=t,i=r.useRef(a),o=it(n);return r.useEffect(()=>{i.current!==a&&(o(a),i.current=a)},[a,i,o]),t}function lt({prop:e,defaultProp:n,onChange:t=()=>{}}){const[a,i]=nn({defaultProp:n,onChange:t}),o=e!==void 0,v=o?e:a,h=it(t),T=r.useCallback(R=>{if(o){const f=typeof R=="function"?R(e):R;f!==e&&h(f)}else i(R)},[o,e,i,h]);return[v,T]}function rn({activeSnapPointProp:e,setActiveSnapPointProp:n,snapPoints:t,drawerRef:a,overlayRef:i,fadeFromIndex:o,onSnapPointChange:v,direction:h="bottom",container:T,snapToSequentialPoint:R}){const[w,f]=lt({prop:e,defaultProp:t==null?void 0:t[0],onChange:n}),[m,B]=r.useState(typeof window<"u"?{innerWidth:window.innerWidth,innerHeight:window.innerHeight}:void 0);r.useEffect(()=>{function u(){B({innerWidth:window.innerWidth,innerHeight:window.innerHeight})}return window.addEventListener("resize",u),()=>window.removeEventListener("resize",u)},[]);const V=r.useMemo(()=>w===(t==null?void 0:t[t.length-1])||null,[t,w]),x=r.useMemo(()=>{var u;return(u=t==null?void 0:t.findIndex(b=>b===w))!=null?u:null},[t,w]),q=t&&t.length>0&&(o||o===0)&&!Number.isNaN(o)&&t[o]===w||!t,p=r.useMemo(()=>{const u=T?{width:T.getBoundingClientRect().width,height:T.getBoundingClientRect().height}:typeof window<"u"?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0};var b;return(b=t==null?void 0:t.map(y=>{const _=typeof y=="string";let M=0;if(_&&(M=parseInt(y,10)),C(h)){const s=_?M:m?y*u.height:0;return m?h==="bottom"?u.height-s:-u.height+s:s}const U=_?M:m?y*u.width:0;return m?h==="right"?u.width-U:-u.width+U:U}))!=null?b:[]},[t,m,T]),N=r.useMemo(()=>x!==null?p==null?void 0:p[x]:null,[p,x]),P=r.useCallback(u=>{var b;const y=(b=p==null?void 0:p.findIndex(_=>_===u))!=null?b:null;v(y),A(a.current,{transition:`transform ${E.DURATION}s cubic-bezier(${E.EASE.join(",")})`,transform:C(h)?`translate3d(0, ${u}px, 0)`:`translate3d(${u}px, 0, 0)`}),p&&y!==p.length-1&&o!==void 0&&y!==o&&y<o?A(i.current,{transition:`opacity ${E.DURATION}s cubic-bezier(${E.EASE.join(",")})`,opacity:"0"}):A(i.current,{transition:`opacity ${E.DURATION}s cubic-bezier(${E.EASE.join(",")})`,opacity:"1"}),f(t==null?void 0:t[Math.max(y,0)])},[a.current,t,p,o,i,f]);r.useEffect(()=>{if(w||e){var u;const b=(u=t==null?void 0:t.findIndex(y=>y===e||y===w))!=null?u:-1;p&&b!==-1&&typeof p[b]=="number"&&P(p[b])}},[w,e,t,p,P]);function c({draggedDistance:u,closeDrawer:b,velocity:y,dismissible:_}){if(o===void 0)return;const M=h==="bottom"||h==="right"?(N??0)-u:(N??0)+u,U=x===o-1,s=x===0,j=u>0;if(U&&A(i.current,{transition:`opacity ${E.DURATION}s cubic-bezier(${E.EASE.join(",")})`}),!R&&y>2&&!j){_?b():P(p[0]);return}if(!R&&y>2&&j&&p&&t){P(p[t.length-1]);return}const I=p==null?void 0:p.reduce((k,G)=>typeof k!="number"||typeof G!="number"?k:Math.abs(G-M)<Math.abs(k-M)?G:k),W=C(h)?window.innerHeight:window.innerWidth;if(y>at&&Math.abs(u)<W*.4){const k=j?1:-1;if(k>0&&V&&t){P(p[t.length-1]);return}if(s&&k<0&&_&&b(),x===null)return;P(p[x+k]);return}P(I)}function Y({draggedDistance:u}){if(N===null)return;const b=h==="bottom"||h==="right"?N-u:N+u;(h==="bottom"||h==="right")&&b<p[p.length-1]||(h==="top"||h==="left")&&b>p[p.length-1]||A(a.current,{transform:C(h)?`translate3d(0, ${b}px, 0)`:`translate3d(${b}px, 0, 0)`})}function ee(u,b){if(!t||typeof x!="number"||!p||o===void 0)return null;const y=x===o-1;if(x>=o&&b)return 0;if(y&&!b)return 1;if(!q&&!y)return null;const M=y?x+1:x-1,U=y?p[M]-p[M-1]:p[M+1]-p[M],s=u/Math.abs(U);return y?1-s:s}return{isLastSnapPoint:V,activeSnapPoint:w,shouldFade:q,getPercentageDragged:ee,setActiveSnapPoint:f,activeSnapPointIndex:x,onRelease:c,onDrag:Y,snapPointsOffset:p}}const an=()=>()=>{};function on(){const{direction:e,isOpen:n,shouldScaleBackground:t,setBackgroundColorOnScale:a,noBodyStyles:i}=he(),o=r.useRef(null),v=Z.useMemo(()=>document.body.style.backgroundColor,[]);function h(){return(window.innerWidth-Ne)/window.innerWidth}r.useEffect(()=>{if(n&&t){o.current&&clearTimeout(o.current);const T=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]");if(!T)return;Zt(a&&!i?$e(document.body,{background:"black"}):an,$e(T,{transformOrigin:C(e)?"top":"left",transitionProperty:"transform, border-radius",transitionDuration:`${E.DURATION}s`,transitionTimingFunction:`cubic-bezier(${E.EASE.join(",")})`}));const R=$e(T,{borderRadius:`${ot}px`,overflow:"hidden",...C(e)?{transform:`scale(${h()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`}:{transform:`scale(${h()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`}});return()=>{R(),o.current=window.setTimeout(()=>{v?document.body.style.background=v:document.body.style.removeProperty("background")},E.DURATION*1e3)}}},[n,t,v])}let fe=null;function ln({isOpen:e,modal:n,nested:t,hasBeenOpened:a,preventScrollRestoration:i,noBodyStyles:o}){const[v,h]=r.useState(()=>typeof window<"u"?window.location.href:""),T=r.useRef(0),R=r.useCallback(()=>{if(We()&&fe===null&&e&&!o){fe={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height,right:"unset"};const{scrollX:f,innerHeight:m}=window;document.body.style.setProperty("position","fixed","important"),Object.assign(document.body.style,{top:`${-T.current}px`,left:`${-f}px`,right:"0px",height:"auto"}),window.setTimeout(()=>window.requestAnimationFrame(()=>{const B=m-window.innerHeight;B&&T.current>=m&&(document.body.style.top=`${-(T.current+B)}px`)}),300)}},[e]),w=r.useCallback(()=>{if(We()&&fe!==null&&!o){const f=-parseInt(document.body.style.top,10),m=-parseInt(document.body.style.left,10);Object.assign(document.body.style,fe),window.requestAnimationFrame(()=>{if(i&&v!==window.location.href){h(window.location.href);return}window.scrollTo(m,f)}),fe=null}},[v]);return r.useEffect(()=>{function f(){T.current=window.scrollY}return f(),window.addEventListener("scroll",f),()=>{window.removeEventListener("scroll",f)}},[]),r.useEffect(()=>{if(n)return()=>{typeof document>"u"||document.querySelector("[data-vaul-drawer]")||w()}},[n,w]),r.useEffect(()=>{t||!a||(e?(!window.matchMedia("(display-mode: standalone)").matches&&R(),n||window.setTimeout(()=>{w()},500)):w())},[e,a,v,n,t,R,w]),{restorePositionSetting:w}}function sn({open:e,onOpenChange:n,children:t,onDrag:a,onRelease:i,snapPoints:o,shouldScaleBackground:v=!1,setBackgroundColorOnScale:h=!0,closeThreshold:T=en,scrollLockTimeout:R=tn,dismissible:w=!0,handleOnly:f=!1,fadeFromIndex:m=o&&o.length-1,activeSnapPoint:B,setActiveSnapPoint:V,fixed:x,modal:q=!0,onClose:p,nested:N,noBodyStyles:P=!1,direction:c="bottom",defaultOpen:Y=!1,disablePreventScroll:ee=!0,snapToSequentialPoint:u=!1,preventScrollRestoration:b=!1,repositionInputs:y=!0,onAnimationEnd:_,container:M,autoFocus:U=!1}){var s,j;const[I=!1,W]=lt({defaultProp:Y,prop:e,onChange:l=>{n==null||n(l),!l&&!N&&Tt(),setTimeout(()=>{_==null||_(l)},E.DURATION*1e3),l&&!q&&typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),l||(document.body.style.pointerEvents="auto")}}),[k,G]=r.useState(!1),[K,ie]=r.useState(!1),[wt,ke]=r.useState(!1),ne=r.useRef(null),we=r.useRef(null),Te=r.useRef(null),De=r.useRef(null),le=r.useRef(null),se=r.useRef(!1),Re=r.useRef(null),xe=r.useRef(0),re=r.useRef(!1),_e=r.useRef(!Y),Ie=r.useRef(0),d=r.useRef(null),He=r.useRef(((s=d.current)==null?void 0:s.getBoundingClientRect().height)||0),Ve=r.useRef(((j=d.current)==null?void 0:j.getBoundingClientRect().width)||0),Ee=r.useRef(0),gt=r.useCallback(l=>{o&&l===ue.length-1&&(we.current=new Date)},[]),{activeSnapPoint:vt,activeSnapPointIndex:ae,setActiveSnapPoint:Le,onRelease:yt,snapPointsOffset:ue,onDrag:bt,shouldFade:Be,getPercentageDragged:St}=rn({snapPoints:o,activeSnapPointProp:B,setActiveSnapPointProp:V,drawerRef:d,fadeFromIndex:m,overlayRef:ne,onSnapPointChange:gt,direction:c,container:M,snapToSequentialPoint:u});zt({isDisabled:!I||K||!q||wt||!k||!y||!ee});const{restorePositionSetting:Tt}=ln({isOpen:I,modal:q,nested:N??!1,hasBeenOpened:k,preventScrollRestoration:b,noBodyStyles:P});function ge(){return(window.innerWidth-Ne)/window.innerWidth}function Dt(l){var S,D;!w&&!o||d.current&&!d.current.contains(l.target)||(He.current=((S=d.current)==null?void 0:S.getBoundingClientRect().height)||0,Ve.current=((D=d.current)==null?void 0:D.getBoundingClientRect().width)||0,ie(!0),Te.current=new Date,et()&&window.addEventListener("touchend",()=>se.current=!1,{once:!0}),l.target.setPointerCapture(l.pointerId),xe.current=C(c)?l.pageY:l.pageX)}function qe(l,S){var D;let g=l;const O=(D=window.getSelection())==null?void 0:D.toString(),L=d.current?be(d.current,c):null,H=new Date;if(g.tagName==="SELECT"||g.hasAttribute("data-vaul-no-drag")||g.closest("[data-vaul-no-drag]"))return!1;if(c==="right"||c==="left")return!0;if(we.current&&H.getTime()-we.current.getTime()<500)return!1;if(L!==null&&(c==="bottom"?L>0:L<0))return!0;if(O&&O.length>0)return!1;if(le.current&&H.getTime()-le.current.getTime()<R&&L===0||S)return le.current=H,!1;for(;g;){if(g.scrollHeight>g.clientHeight){if(g.scrollTop!==0)return le.current=new Date,!1;if(g.getAttribute("role")==="dialog")return!0}g=g.parentNode}return!0}function Rt(l){if(d.current&&K){const S=c==="bottom"||c==="right"?1:-1,D=(xe.current-(C(c)?l.pageY:l.pageX))*S,g=D>0,O=o&&!w&&!g;if(O&&ae===0)return;const L=Math.abs(D),H=document.querySelector("[data-vaul-drawer-wrapper]"),J=c==="bottom"||c==="top"?He.current:Ve.current;let F=L/J;const te=St(L,g);if(te!==null&&(F=te),O&&F>=1||!se.current&&!qe(l.target,g))return;if(d.current.classList.add(Ae),se.current=!0,A(d.current,{transition:"none"}),A(ne.current,{transition:"none"}),o&&bt({draggedDistance:D}),g&&!o){const X=Qt(D),ve=Math.min(X*-1,0)*S;A(d.current,{transform:C(c)?`translate3d(0, ${ve}px, 0)`:`translate3d(${ve}px, 0, 0)`});return}const Q=1-F;if((Be||m&&ae===m-1)&&(a==null||a(l,F),A(ne.current,{opacity:`${Q}`,transition:"none"},!0)),H&&ne.current&&v){const X=Math.min(ge()+F*(1-ge()),1),ve=8-F*8,Ue=Math.max(0,14-F*14);A(H,{borderRadius:`${ve}px`,transform:C(c)?`scale(${X}) translate3d(0, ${Ue}px, 0)`:`scale(${X}) translate3d(${Ue}px, 0, 0)`,transition:"none"},!0)}if(!o){const X=L*S;A(d.current,{transform:C(c)?`translate3d(0, ${X}px, 0)`:`translate3d(${X}px, 0, 0)`})}}}r.useEffect(()=>{window.requestAnimationFrame(()=>{_e.current=!0})},[]),r.useEffect(()=>{var l;function S(){if(!d.current||!y)return;const D=document.activeElement;if(Pe(D)||re.current){var g;const O=((g=window.visualViewport)==null?void 0:g.height)||0,L=window.innerHeight;let H=L-O;const J=d.current.getBoundingClientRect().height||0,F=J>L*.8;Ee.current||(Ee.current=J);const te=d.current.getBoundingClientRect().top;if(Math.abs(Ie.current-H)>60&&(re.current=!re.current),o&&o.length>0&&ue&&ae){const Q=ue[ae]||0;H+=Q}if(Ie.current=H,J>O||re.current){const Q=d.current.getBoundingClientRect().height;let X=Q;Q>O&&(X=O-(F?te:Ne)),x?d.current.style.height=`${Q-Math.max(H,0)}px`:d.current.style.height=`${Math.max(X,O-te)}px`}else Lt()||(d.current.style.height=`${Ee.current}px`);o&&o.length>0&&!re.current?d.current.style.bottom="0px":d.current.style.bottom=`${Math.max(H,0)}px`}}return(l=window.visualViewport)==null||l.addEventListener("resize",S),()=>{var D;return(D=window.visualViewport)==null?void 0:D.removeEventListener("resize",S)}},[ae,o,ue]);function ce(l){xt(),p==null||p(),l||W(!1),setTimeout(()=>{o&&Le(o[0])},E.DURATION*1e3)}function je(){if(!d.current)return;const l=document.querySelector("[data-vaul-drawer-wrapper]"),S=be(d.current,c);A(d.current,{transform:"translate3d(0, 0, 0)",transition:`transform ${E.DURATION}s cubic-bezier(${E.EASE.join(",")})`}),A(ne.current,{transition:`opacity ${E.DURATION}s cubic-bezier(${E.EASE.join(",")})`,opacity:"1"}),v&&S&&S>0&&I&&A(l,{borderRadius:`${ot}px`,overflow:"hidden",...C(c)?{transform:`scale(${ge()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${ge()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${E.DURATION}s`,transitionTimingFunction:`cubic-bezier(${E.EASE.join(",")})`},!0)}function xt(){!K||!d.current||(d.current.classList.remove(Ae),se.current=!1,ie(!1),De.current=new Date)}function Et(l){if(!K||!d.current)return;d.current.classList.remove(Ae),se.current=!1,ie(!1),De.current=new Date;const S=be(d.current,c);if(!l||!qe(l.target,!1)||!S||Number.isNaN(S)||Te.current===null)return;const D=De.current.getTime()-Te.current.getTime(),g=xe.current-(C(c)?l.pageY:l.pageX),O=Math.abs(g)/D;if(O>.05&&(ke(!0),setTimeout(()=>{ke(!1)},200)),o){yt({draggedDistance:g*(c==="bottom"||c==="right"?1:-1),closeDrawer:ce,velocity:O,dismissible:w}),i==null||i(l,!0);return}if(c==="bottom"||c==="right"?g>0:g<0){je(),i==null||i(l,!0);return}if(O>at){ce(),i==null||i(l,!1);return}var L;const H=Math.min((L=d.current.getBoundingClientRect().height)!=null?L:0,window.innerHeight);var J;const F=Math.min((J=d.current.getBoundingClientRect().width)!=null?J:0,window.innerWidth),te=c==="left"||c==="right";if(Math.abs(S)>=(te?F:H)*T){ce(),i==null||i(l,!1);return}i==null||i(l,!0),je()}r.useEffect(()=>(I&&(A(document.documentElement,{scrollBehavior:"auto"}),we.current=new Date),()=>{Jt(document.documentElement,"scrollBehavior")}),[I]);function Ot(l){const S=l?(window.innerWidth-Se)/window.innerWidth:1,D=l?-16:0;Re.current&&window.clearTimeout(Re.current),A(d.current,{transition:`transform ${E.DURATION}s cubic-bezier(${E.EASE.join(",")})`,transform:C(c)?`scale(${S}) translate3d(0, ${D}px, 0)`:`scale(${S}) translate3d(${D}px, 0, 0)`}),!l&&d.current&&(Re.current=setTimeout(()=>{const g=be(d.current,c);A(d.current,{transition:"none",transform:C(c)?`translate3d(0, ${g}px, 0)`:`translate3d(${g}px, 0, 0)`})},500))}function Ct(l,S){if(S<0)return;const D=(window.innerWidth-Se)/window.innerWidth,g=D+S*(1-D),O=-16+S*Se;A(d.current,{transform:C(c)?`scale(${g}) translate3d(0, ${O}px, 0)`:`scale(${g}) translate3d(${O}px, 0, 0)`,transition:"none"})}function $t(l,S){const D=C(c)?window.innerHeight:window.innerWidth,g=S?(D-Se)/D:1,O=S?-16:0;S&&A(d.current,{transition:`transform ${E.DURATION}s cubic-bezier(${E.EASE.join(",")})`,transform:C(c)?`scale(${g}) translate3d(0, ${O}px, 0)`:`scale(${g}) translate3d(${O}px, 0, 0)`})}return r.useEffect(()=>{q||window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"})},[q]),r.createElement(kt,{defaultOpen:Y,onOpenChange:l=>{!w&&!l||(l?G(!0):ce(!0),W(l))},open:I},r.createElement(Ze.Provider,{value:{activeSnapPoint:vt,snapPoints:o,setActiveSnapPoint:Le,drawerRef:d,overlayRef:ne,onOpenChange:n,onPress:Dt,onRelease:Et,onDrag:Rt,dismissible:w,shouldAnimate:_e,handleOnly:f,isOpen:I,isDragging:K,shouldFade:Be,closeDrawer:ce,onNestedDrag:Ct,onNestedOpenChange:Ot,onNestedRelease:$t,keyboardIsOpen:re,modal:q,snapPointsOffset:ue,activeSnapPointIndex:ae,direction:c,shouldScaleBackground:v,setBackgroundColorOnScale:h,noBodyStyles:P,container:M,autoFocus:U}},t))}const st=r.forwardRef(function({...e},n){const{overlayRef:t,snapPoints:a,onRelease:i,shouldFade:o,isOpen:v,modal:h,shouldAnimate:T}=he(),R=nt(n,t),w=a&&a.length>0;if(!h)return null;const f=r.useCallback(m=>i(m),[i]);return r.createElement(Ht,{onMouseUp:f,ref:R,"data-vaul-overlay":"","data-vaul-snap-points":v&&w?"true":"false","data-vaul-snap-points-overlay":v&&o?"true":"false","data-vaul-animate":T!=null&&T.current?"true":"false",...e})});st.displayName="Drawer.Overlay";const ut=r.forwardRef(function({onPointerDownOutside:e,style:n,onOpenAutoFocus:t,...a},i){const{drawerRef:o,onPress:v,onRelease:h,onDrag:T,keyboardIsOpen:R,snapPointsOffset:w,activeSnapPointIndex:f,modal:m,isOpen:B,direction:V,snapPoints:x,container:q,handleOnly:p,shouldAnimate:N,autoFocus:P}=he(),[c,Y]=r.useState(!1),ee=nt(i,o),u=r.useRef(null),b=r.useRef(null),y=r.useRef(!1),_=x&&x.length>0;on();const M=(s,j,I=0)=>{if(y.current)return!0;const W=Math.abs(s.y),k=Math.abs(s.x),G=k>W,K=["bottom","right"].includes(j)?1:-1;if(j==="left"||j==="right"){if(!(s.x*K<0)&&k>=0&&k<=I)return G}else if(!(s.y*K<0)&&W>=0&&W<=I)return!G;return y.current=!0,!0};r.useEffect(()=>{_&&window.requestAnimationFrame(()=>{Y(!0)})},[]);function U(s){u.current=null,y.current=!1,h(s)}return r.createElement(It,{"data-vaul-drawer-direction":V,"data-vaul-drawer":"","data-vaul-delayed-snap-points":c?"true":"false","data-vaul-snap-points":B&&_?"true":"false","data-vaul-custom-container":q?"true":"false","data-vaul-animate":N!=null&&N.current?"true":"false",...a,ref:ee,style:w&&w.length>0?{"--snap-point-height":`${w[f??0]}px`,...n}:n,onPointerDown:s=>{p||(a.onPointerDown==null||a.onPointerDown.call(a,s),u.current={x:s.pageX,y:s.pageY},v(s))},onOpenAutoFocus:s=>{t==null||t(s),P||s.preventDefault()},onPointerDownOutside:s=>{if(e==null||e(s),!m||s.defaultPrevented){s.preventDefault();return}R.current&&(R.current=!1)},onFocusOutside:s=>{if(!m){s.preventDefault();return}},onPointerMove:s=>{if(b.current=s,p||(a.onPointerMove==null||a.onPointerMove.call(a,s),!u.current))return;const j=s.pageY-u.current.y,I=s.pageX-u.current.x,W=s.pointerType==="touch"?10:2;M({x:I,y:j},V,W)?T(s):(Math.abs(I)>W||Math.abs(j)>W)&&(u.current=null)},onPointerUp:s=>{a.onPointerUp==null||a.onPointerUp.call(a,s),u.current=null,y.current=!1,h(s)},onPointerOut:s=>{a.onPointerOut==null||a.onPointerOut.call(a,s),U(b.current)},onContextMenu:s=>{a.onContextMenu==null||a.onContextMenu.call(a,s),b.current&&U(b.current)}})});ut.displayName="Drawer.Content";const un=250,cn=120,dn=r.forwardRef(function({preventCycle:e=!1,children:n,...t},a){const{closeDrawer:i,isDragging:o,snapPoints:v,activeSnapPoint:h,setActiveSnapPoint:T,dismissible:R,handleOnly:w,isOpen:f,onPress:m,onDrag:B}=he(),V=r.useRef(null),x=r.useRef(!1);function q(){if(x.current){P();return}window.setTimeout(()=>{p()},cn)}function p(){if(o||e||x.current){P();return}if(P(),!v||v.length===0){R||i();return}if(h===v[v.length-1]&&R){i();return}const Y=v.findIndex(u=>u===h);if(Y===-1)return;const ee=v[Y+1];T(ee)}function N(){V.current=window.setTimeout(()=>{x.current=!0},un)}function P(){V.current&&window.clearTimeout(V.current),x.current=!1}return r.createElement("div",{onClick:q,onPointerCancel:P,onPointerDown:c=>{w&&m(c),N()},onPointerMove:c=>{w&&B(c)},ref:a,"data-vaul-drawer-visible":f?"true":"false","data-vaul-handle":"","aria-hidden":"true",...t},r.createElement("span",{"data-vaul-handle-hitarea":"","aria-hidden":"true"},n))});dn.displayName="Drawer.Handle";function fn(e){const n=he(),{container:t=n.container,...a}=e;return r.createElement(_t,{container:t,...a})}const z={Root:sn,Content:ut,Overlay:st,Trigger:At,Portal:fn,Close:Pt,Title:Nt,Description:Mt};function pe({shouldScaleBackground:e=!0,...n}){return $.jsx(z.Root,{shouldScaleBackground:e,...n})}pe.displayName="Drawer";const mn=z.Trigger,pn=z.Portal,hn=z.Close,ct=Z.forwardRef(({className:e,...n},t)=>$.jsx(z.Overlay,{ref:t,className:oe("fixed inset-0 z-50 bg-black/80",e),...n}));ct.displayName=z.Overlay.displayName;const dt=Z.forwardRef(({className:e,children:n,...t},a)=>$.jsxs(pn,{children:[$.jsx(ct,{}),$.jsxs(z.Content,{ref:a,className:oe("fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background",e),...t,children:[$.jsx("div",{className:"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted"}),n]})]}));dt.displayName="DrawerContent";function ft({className:e,...n}){return $.jsx("div",{className:oe("grid gap-1.5 p-4 text-center sm:text-left",e),...n})}ft.displayName="DrawerHeader";function mt({className:e,...n}){return $.jsx("div",{className:oe("mt-auto flex flex-col gap-2 p-4",e),...n})}mt.displayName="DrawerFooter";const pt=Z.forwardRef(({className:e,...n},t)=>$.jsx(z.Title,{ref:t,className:oe("text-lg font-semibold leading-none tracking-tight",e),...n}));pt.displayName=z.Title.displayName;const ht=Z.forwardRef(({className:e,...n},t)=>$.jsx(z.Description,{ref:t,className:oe("text-sm text-muted-foreground",e),...n}));ht.displayName=z.Description.displayName;try{pe.displayName="Drawer",pe.__docgenInfo={description:"",displayName:"Drawer",props:{activeSnapPoint:{defaultValue:null,description:"",name:"activeSnapPoint",required:!1,type:{name:"string | number | null"}},setActiveSnapPoint:{defaultValue:null,description:"",name:"setActiveSnapPoint",required:!1,type:{name:"((snapPoint: string | number | null) => void)"}},open:{defaultValue:null,description:"",name:"open",required:!1,type:{name:"boolean"}},closeThreshold:{defaultValue:{value:"0.25"},description:`Number between 0 and 1 that determines when the drawer should be closed.
Example: threshold of 0.5 would close the drawer if the user swiped for 50% of the height of the drawer or more.`,name:"closeThreshold",required:!1,type:{name:"number"}},noBodyStyles:{defaultValue:null,description:"When `true` the `body` doesn't get any styles assigned from Vaul",name:"noBodyStyles",required:!1,type:{name:"boolean"}},onOpenChange:{defaultValue:null,description:"",name:"onOpenChange",required:!1,type:{name:"((open: boolean) => void)"}},shouldScaleBackground:{defaultValue:{value:"true"},description:"",name:"shouldScaleBackground",required:!1,type:{name:"boolean"}},setBackgroundColorOnScale:{defaultValue:{value:"true"},description:"When `false` we don't change body's background color when the drawer is open.",name:"setBackgroundColorOnScale",required:!1,type:{name:"boolean"}},scrollLockTimeout:{defaultValue:{value:"500ms"},description:"Duration for which the drawer is not draggable after scrolling content inside of the drawer.",name:"scrollLockTimeout",required:!1,type:{name:"number"}},fixed:{defaultValue:null,description:"When `true`, don't move the drawer upwards if there's space, but rather only change it's height so it's fully scrollable when the keyboard is open",name:"fixed",required:!1,type:{name:"boolean"}},handleOnly:{defaultValue:{value:"false"},description:"When `true` only allows the drawer to be dragged by the `<Drawer.Handle />` component.",name:"handleOnly",required:!1,type:{name:"boolean"}},dismissible:{defaultValue:{value:"true"},description:"When `false` dragging, clicking outside, pressing esc, etc. will not close the drawer.\nUse this in comination with the `open` prop, otherwise you won't be able to open/close the drawer.",name:"dismissible",required:!1,type:{name:"boolean"}},onDrag:{defaultValue:null,description:"",name:"onDrag",required:!1,type:{name:"((event: PointerEvent<HTMLDivElement>, percentageDragged: number) => void)"}},onRelease:{defaultValue:null,description:"",name:"onRelease",required:!1,type:{name:"((event: PointerEvent<HTMLDivElement>, open: boolean) => void)"}},modal:{defaultValue:{value:"true"},description:"When `false` it allows to interact with elements outside of the drawer without closing it.",name:"modal",required:!1,type:{name:"boolean"}},nested:{defaultValue:null,description:"",name:"nested",required:!1,type:{name:"boolean"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!1,type:{name:"(() => void)"}},direction:{defaultValue:{value:"'bottom'"},description:"Direction of the drawer. Can be `top` or `bottom`, `left`, `right`.",name:"direction",required:!1,type:{name:"enum",value:[{value:'"top"'},{value:'"right"'},{value:'"bottom"'},{value:'"left"'}]}},defaultOpen:{defaultValue:{value:"false"},description:"Opened by default, skips initial enter animation. Still reacts to `open` state changes",name:"defaultOpen",required:!1,type:{name:"boolean"}},disablePreventScroll:{defaultValue:{value:"false"},description:"When set to `true` prevents scrolling on the document body on mount, and restores it on unmount.",name:"disablePreventScroll",required:!1,type:{name:"boolean"}},repositionInputs:{defaultValue:{value:"true when {@link snapPoints } is defined"},description:"When `true` Vaul will reposition inputs rather than scroll then into view if the keyboard is in the way.\nSetting it to `false` will fall back to the default browser behavior.",name:"repositionInputs",required:!1,type:{name:"boolean"}},snapToSequentialPoint:{defaultValue:{value:"false"},description:`Disabled velocity based swiping for snap points.
This means that a snap point won't be skipped even if the velocity is high enough.
Useful if each snap point in a drawer is equally important.`,name:"snapToSequentialPoint",required:!1,type:{name:"boolean"}},container:{defaultValue:null,description:"",name:"container",required:!1,type:{name:"HTMLElement | null"}},onAnimationEnd:{defaultValue:null,description:"Gets triggered after the open or close animation ends, it receives an `open` argument with the `open` state of the drawer by the time the function was triggered.\nUseful to revert any state changes for example.",name:"onAnimationEnd",required:!1,type:{name:"((open: boolean) => void)"}},preventScrollRestoration:{defaultValue:null,description:"",name:"preventScrollRestoration",required:!1,type:{name:"boolean"}},autoFocus:{defaultValue:null,description:"",name:"autoFocus",required:!1,type:{name:"boolean"}}}}}catch{}const In={title:"ui/Drawer",component:pe,tags:["autodocs"],argTypes:{},render:e=>$.jsxs(pe,{...e,children:[$.jsx(mn,{children:"Open"}),$.jsxs(dt,{children:[$.jsxs(ft,{children:[$.jsx(pt,{children:"Are you sure absolutely sure?"}),$.jsx(ht,{children:"This action cannot be undone."})]}),$.jsxs(mt,{children:[$.jsx("button",{type:"button",className:"rounded bg-primary px-4 py-2 text-primary-foreground",children:"Submit"}),$.jsx(hn,{children:$.jsx("button",{type:"button",className:"hover:underline",children:"Cancel"})})]})]})]}),parameters:{layout:"centered",docs:{description:{component:"A drawer component for React."}}}},me={};var Xe,Ge,Ke,Je,Qe;me.parameters={...me.parameters,docs:{...(Xe=me.parameters)==null?void 0:Xe.docs,source:{originalSource:"{} as Story",...(Ke=(Ge=me.parameters)==null?void 0:Ge.docs)==null?void 0:Ke.source},description:{story:"The default form of the drawer.",...(Qe=(Je=me.parameters)==null?void 0:Je.docs)==null?void 0:Qe.description}}};const Hn=["Default"];export{me as Default,Hn as __namedExportsOrder,In as default};
