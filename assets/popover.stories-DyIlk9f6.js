import{j as s}from"./jsx-runtime-Cf8x2fCZ.js";import{r as p}from"./index-B6o7_jwP.js";import{c as P}from"./index-DW48STyt.js";import{u as D,S as B}from"./index-CWunzIAO.js";import{c as J}from"./index-Bg13-N3c.js";import{D as Q}from"./index-DdpX_G71.js";import{h as X,R as Y,u as ee,F as oe}from"./index-CM8D19aL.js";import{u as re}from"./index-CDrSXEGS.js";import{c as S,R as te,A as T,C as ne,a as ae}from"./index-CqEA1Bia.js";import{P as se}from"./index-BghzCfGL.js";import{P as I}from"./index-B6caMgJY.js";import{P as M}from"./index-DYPDg9pM.js";import{u as ce}from"./index-fYiWtIch.js";import{c as ie}from"./utils-KnJS0CU8.js";import"./index-yBjzXJbu.js";import"./_commonjsHelpers-Cpj98o6Y.js";import"./index-BKcPSHDN.js";import"./index-BskipZHp.js";import"./index-BxaFKtJl.js";import"./index-fNjTmf9T.js";import"./index-D6Rq8aLn.js";var A="Popover",[k,ze]=J(A,[S]),h=S(),[pe,u]=k(A),$=e=>{const{__scopePopover:n,children:r,open:a,defaultOpen:o,onOpenChange:t,modal:c=!1}=e,i=h(n),d=p.useRef(null),[l,g]=p.useState(!1),[_=!1,f]=ce({prop:a,defaultProp:o,onChange:t});return s.jsx(te,{...i,children:s.jsx(pe,{scope:n,contentId:re(),triggerRef:d,open:_,onOpenChange:f,onOpenToggle:p.useCallback(()=>f(R=>!R),[f]),hasCustomAnchor:l,onCustomAnchorAdd:p.useCallback(()=>g(!0),[]),onCustomAnchorRemove:p.useCallback(()=>g(!1),[]),modal:c,children:r})})};$.displayName=A;var L="PopoverAnchor",V=p.forwardRef((e,n)=>{const{__scopePopover:r,...a}=e,o=u(L,r),t=h(r),{onCustomAnchorAdd:c,onCustomAnchorRemove:i}=o;return p.useEffect(()=>(c(),()=>i()),[c,i]),s.jsx(T,{...t,...a,ref:n})});V.displayName=L;var q="PopoverTrigger",z=p.forwardRef((e,n)=>{const{__scopePopover:r,...a}=e,o=u(q,r),t=h(r),c=D(n,o.triggerRef),i=s.jsx(M.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":W(o.open),...a,ref:c,onClick:P(e.onClick,o.onOpenToggle)});return o.hasCustomAnchor?i:s.jsx(T,{asChild:!0,...t,children:i})});z.displayName=q;var O="PopoverPortal",[de,le]=k(O,{forceMount:void 0}),G=e=>{const{__scopePopover:n,forceMount:r,children:a,container:o}=e,t=u(O,n);return s.jsx(de,{scope:n,forceMount:r,children:s.jsx(I,{present:r||t.open,children:s.jsx(se,{asChild:!0,container:o,children:a})})})};G.displayName=O;var m="PopoverContent",H=p.forwardRef((e,n)=>{const r=le(m,e.__scopePopover),{forceMount:a=r.forceMount,...o}=e,t=u(m,e.__scopePopover);return s.jsx(I,{present:a||t.open,children:t.modal?s.jsx(ue,{...o,ref:n}):s.jsx(fe,{...o,ref:n})})});H.displayName=m;var ue=p.forwardRef((e,n)=>{const r=u(m,e.__scopePopover),a=p.useRef(null),o=D(n,a),t=p.useRef(!1);return p.useEffect(()=>{const c=a.current;if(c)return X(c)},[]),s.jsx(Y,{as:B,allowPinchZoom:!0,children:s.jsx(K,{...e,ref:o,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:P(e.onCloseAutoFocus,c=>{var i;c.preventDefault(),t.current||(i=r.triggerRef.current)==null||i.focus()}),onPointerDownOutside:P(e.onPointerDownOutside,c=>{const i=c.detail.originalEvent,d=i.button===0&&i.ctrlKey===!0,l=i.button===2||d;t.current=l},{checkForDefaultPrevented:!1}),onFocusOutside:P(e.onFocusOutside,c=>c.preventDefault(),{checkForDefaultPrevented:!1})})})}),fe=p.forwardRef((e,n)=>{const r=u(m,e.__scopePopover),a=p.useRef(!1),o=p.useRef(!1);return s.jsx(K,{...e,ref:n,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{var c,i;(c=e.onCloseAutoFocus)==null||c.call(e,t),t.defaultPrevented||(a.current||(i=r.triggerRef.current)==null||i.focus(),t.preventDefault()),a.current=!1,o.current=!1},onInteractOutside:t=>{var d,l;(d=e.onInteractOutside)==null||d.call(e,t),t.defaultPrevented||(a.current=!0,t.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const c=t.target;((l=r.triggerRef.current)==null?void 0:l.contains(c))&&t.preventDefault(),t.detail.originalEvent.type==="focusin"&&o.current&&t.preventDefault()}})}),K=p.forwardRef((e,n)=>{const{__scopePopover:r,trapFocus:a,onOpenAutoFocus:o,onCloseAutoFocus:t,disableOutsidePointerEvents:c,onEscapeKeyDown:i,onPointerDownOutside:d,onFocusOutside:l,onInteractOutside:g,..._}=e,f=u(m,r),R=h(r);return ee(),s.jsx(oe,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:o,onUnmountAutoFocus:t,children:s.jsx(Q,{asChild:!0,disableOutsidePointerEvents:c,onInteractOutside:g,onEscapeKeyDown:i,onPointerDownOutside:d,onFocusOutside:l,onDismiss:()=>f.onOpenChange(!1),children:s.jsx(ne,{"data-state":W(f.open),role:"dialog",id:f.contentId,...R,..._,ref:n,style:{..._.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),U="PopoverClose",me=p.forwardRef((e,n)=>{const{__scopePopover:r,...a}=e,o=u(U,r);return s.jsx(M.button,{type:"button",...a,ref:n,onClick:P(e.onClick,()=>o.onOpenChange(!1))})});me.displayName=U;var ve="PopoverArrow",Pe=p.forwardRef((e,n)=>{const{__scopePopover:r,...a}=e,o=h(r);return s.jsx(ae,{...o,...a,ref:n})});Pe.displayName=ve;function W(e){return e?"open":"closed"}var he=$,ge=V,_e=z,Ce=G,Z=H;const C=he,y=_e,N=ge,x=p.forwardRef(({className:e,align:n="center",sideOffset:r=4,...a},o)=>s.jsx(Ce,{children:s.jsx(Z,{ref:o,align:n,sideOffset:r,className:ie("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...a})}));x.displayName=Z.displayName;try{C.displayName="Popover",C.__docgenInfo={description:"",displayName:"Popover",props:{}}}catch{}try{y.displayName="PopoverTrigger",y.__docgenInfo={description:"",displayName:"PopoverTrigger",props:{asChild:{defaultValue:null,description:"",name:"asChild",required:!1,type:{name:"boolean"}}}}}catch{}try{x.displayName="PopoverContent",x.__docgenInfo={description:"",displayName:"PopoverContent",props:{asChild:{defaultValue:null,description:"",name:"asChild",required:!1,type:{name:"boolean"}}}}}catch{}try{N.displayName="PopoverAnchor",N.__docgenInfo={description:"",displayName:"PopoverAnchor",props:{asChild:{defaultValue:null,description:"",name:"asChild",required:!1,type:{name:"boolean"}}}}}catch{}const Ge={title:"ui/Popover",component:C,tags:["autodocs"],argTypes:{},render:e=>s.jsxs(C,{...e,children:[s.jsx(y,{children:"Open"}),s.jsx(x,{children:"Place content for the popover here."})]}),parameters:{layout:"centered",docs:{description:{component:"Displays rich content in a portal, triggered by a button."}}}},v={};var b,j,w,E,F;v.parameters={...v.parameters,docs:{...(b=v.parameters)==null?void 0:b.docs,source:{originalSource:"{}",...(w=(j=v.parameters)==null?void 0:j.docs)==null?void 0:w.source},description:{story:"The default form of the popover.",...(F=(E=v.parameters)==null?void 0:E.docs)==null?void 0:F.description}}};const He=["Default"];export{v as Default,He as __namedExportsOrder,Ge as default};
