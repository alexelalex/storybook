import{j as s}from"./jsx-runtime-Cf8x2fCZ.js";import{r as n}from"./index-B6o7_jwP.js";import{c as M}from"./index-Bg13-N3c.js";import{u as P}from"./index-BKcPSHDN.js";import{u as S}from"./index-BskipZHp.js";import{P as g}from"./index-DYPDg9pM.js";import{c as v}from"./utils-KnJS0CU8.js";import"./index-yBjzXJbu.js";import"./_commonjsHelpers-Cpj98o6Y.js";import"./index-BxaFKtJl.js";import"./index-fNjTmf9T.js";import"./index-CWunzIAO.js";var _="Avatar",[T,X]=M(_),[q,C]=T(_),I=n.forwardRef((a,e)=>{const{__scopeAvatar:r,...t}=a,[i,o]=n.useState("idle");return s.jsx(q,{scope:r,imageLoadingStatus:i,onImageLoadingStatusChange:o,children:s.jsx(g.span,{...t,ref:e})})});I.displayName=_;var b="AvatarImage",j=n.forwardRef((a,e)=>{const{__scopeAvatar:r,src:t,onLoadingStatusChange:i=()=>{},...o}=a,l=C(b,r),d=V(t,o.referrerPolicy),p=P(A=>{i(A),l.onImageLoadingStatusChange(A)});return S(()=>{d!=="idle"&&p(d)},[d,p]),d==="loaded"?s.jsx(g.img,{...o,ref:e,src:t}):null});j.displayName=b;var L="AvatarFallback",R=n.forwardRef((a,e)=>{const{__scopeAvatar:r,delayMs:t,...i}=a,o=C(L,r),[l,d]=n.useState(t===void 0);return n.useEffect(()=>{if(t!==void 0){const p=window.setTimeout(()=>d(!0),t);return()=>window.clearTimeout(p)}},[t]),l&&o.imageLoadingStatus!=="loaded"?s.jsx(g.span,{...i,ref:e}):null});R.displayName=L;function V(a,e){const[r,t]=n.useState("idle");return S(()=>{if(!a){t("error");return}let i=!0;const o=new window.Image,l=d=>()=>{i&&t(d)};return t("loading"),o.onload=l("loaded"),o.onerror=l("error"),o.src=a,e&&(o.referrerPolicy=e),()=>{i=!1}},[a,e]),r}var k=I,E=j,F=R;const m=n.forwardRef(({className:a,...e},r)=>s.jsx(k,{ref:r,className:v("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",a),...e}));m.displayName=k.displayName;const u=n.forwardRef(({className:a,...e},r)=>s.jsx(E,{ref:r,className:v("aspect-square h-full w-full",a),...e}));u.displayName=E.displayName;const f=n.forwardRef(({className:a,...e},r)=>s.jsx(F,{ref:r,className:v("flex h-full w-full items-center justify-center rounded-full bg-muted",a),...e}));f.displayName=F.displayName;try{m.displayName="Avatar",m.__docgenInfo={description:"",displayName:"Avatar",props:{asChild:{defaultValue:null,description:"",name:"asChild",required:!1,type:{name:"boolean"}}}}}catch{}try{u.displayName="AvatarImage",u.__docgenInfo={description:"",displayName:"AvatarImage",props:{asChild:{defaultValue:null,description:"",name:"asChild",required:!1,type:{name:"boolean"}}}}}catch{}try{f.displayName="AvatarFallback",f.__docgenInfo={description:"",displayName:"AvatarFallback",props:{asChild:{defaultValue:null,description:"",name:"asChild",required:!1,type:{name:"boolean"}}}}}catch{}const Y={title:"ui/Avatar",component:m,tags:["autodocs"],argTypes:{},render:a=>s.jsxs(m,{...a,children:[s.jsx(u,{src:"https://github.com/shadcn.png"}),s.jsx(f,{children:"CN"})]}),parameters:{layout:"centered",docs:{description:{component:"An image element with a fallback for representing the user."}}}},c={};var y,h,x,N,w;c.parameters={...c.parameters,docs:{...(y=c.parameters)==null?void 0:y.docs,source:{originalSource:"{}",...(x=(h=c.parameters)==null?void 0:h.docs)==null?void 0:x.source},description:{story:"The default form of the avatar.",...(w=(N=c.parameters)==null?void 0:N.docs)==null?void 0:w.description}}};const Z=["Default"];export{c as Default,Z as __namedExportsOrder,Y as default};
